#! /bin/bash

. "$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )/scriptLib"

runSbt scalafmt test:scalafmt multi-jvm:scalafmt validateDependencies mimaCheckOneAtATime whitesourceUpdate

git diff --exit-code || (
  echo "ERROR: ScalaFmt check failed, see differences above."
  echo "To fix, format your sources using [sbt scalafmt test:scalafmt multi-jvm:scalafmt] before submitting a pull request."
  false
)

